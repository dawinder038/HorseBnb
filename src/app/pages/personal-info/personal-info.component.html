<app-header></app-header>
<section>
    <div class="container">
        <div class="mt-3">
            <span><a routerLink="/account">My Account</a> </span>
            <img src="../../../assets/right_arrow.png" alt="Arrow">
            <span style="font-weight: 500;">Personal Info</span>
        </div>
        <h2 class="my-3 ms-1">Personal info</h2>
        <div class="row my-2">
            <div class="col-md-4">
                <div>
                    <form>
                        <div class="card ">
                            <div class="p-3 m-auto">
                                <form>
                                    <div>
                                        <img [src]="bgImage" style="width: 100px; height:100px; border-radius: 50%;"
                                            alt="image">
                                        <input type="file" id="image-upload" class="d-none" (change)="fileChange($event)">
                                    </div>
                                    <div class="d-flex justify-content-center my-4">
                                        <button class="btn" style="background-color: #00a6b3; color:white;">
                                            <label for="image-upload" >
                                                upload
                                            </label>
                                        </button>
                                    </div>
                                    <div>
                                        <!-- <button *ngIf="imageSaveShow" type="button" class="btn"
                                            style="background-color:#00a6b3;color: white;" > Save</button> -->
                                    </div>
                                </form>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="card my-4">
                    <div class="p-4">
                        <div class="my-1">
                            <img src="../../../assets/personal_info.png" alt="">
                        </div>
                        <div class="my-1">
                            <h5 class="my-1">What info is shared with others?</h5>
                            <p class="mt-2">HorseBnB only release contact information for hosts and guests after a
                                reservation is confirmed.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-8">
                <div class="row card p-3 ">
                    <div *ngIf="showName">
                        <div class="d-flex justify-content-between">
                            <div>
                                <span style="font-size:18px; font-weight: 400;">Legal Name</span>
                            </div>
                            <div>
                                <a style="color:#00a6b3;" (click)="editName()">Edit</a>
                            </div>
                        </div>
                        <div class="mt-2">
                            <span
                                style="font-size:15px; font-weight: 300;">{{allData.data.attributes.profile.displayName}}</span>
                        </div>
                    </div>
                    <div *ngIf="!showName">
                        <div class="d-flex justify-content-between">
                            <div>
                                <span style="font-size:18px; font-weight: 400;">Legal Name</span>
                            </div>
                            <div>
                                <a style="color:#00a6b3;" (click)="cancelName()">cancel</a>
                            </div>
                        </div>
                        <div class="my-2">
                            <p>This is the name on your travel document, which could be a licence or a passport.</p>
                        </div>
                        <div>
                            <form [formGroup]="nameForm" (ngSubmit)="updateName(nameForm.value)">
                                <div class="d-flex my-2">
                                    <div>
                                        <label for="first-name">First Name</label>
                                        <input type="text" id="first-name" class="form-control mt-2 "
                                            placeholder="{{allData.data.attributes.profile.firstName}}"
                                            formControlName="firstName">
                                        <small
                                            *ngIf="nameForm.controls['firstName']?.hasError('required') && nameForm.controls['firstName']?.touched">First
                                            Name is Required</small>
                                    </div>
                                    <div class="mx-2">
                                        <label for="last-name">Last Name</label>
                                        <input type="text" class="form-control mt-2" id="last-name"
                                            placeholder="{{allData.data.attributes.profile.lastName}} " value=""
                                            formControlName="lastName">
                                        <small
                                            *ngIf="nameForm.controls['lastName']?.hasError('required') && nameForm.controls['lastName']?.touched">Last
                                            Name is Required</small>
                                    </div>
                                </div>
                                <div>
                                    <button type="submit" class="btn" [disabled]="nameForm.invalid"
                                        style="background-color:#00a6b3;color: white;">Save</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
                <div class="row card p-3 my-2">
                    <div *ngIf="showGender">
                        <div class="d-flex justify-content-between">
                            <div>
                                <span style="font-size:18px; font-weight: 400;">Gender</span>
                            </div>
                            <div>
                                <a style="color:#00a6b3;" (click)="editGender()">Edit</a>
                            </div>
                        </div>
                        <div class="my-2">
                            <span
                                style="font-size:15px; font-weight: 300;">{{allData.data.attributes.profile.publicData.gender}}</span>
                        </div>
                    </div>
                    <div *ngIf="!showGender">
                        <div class="d-flex justify-content-between">
                            <div>
                                <span style="font-size:18px; font-weight: 400;">Gender</span>
                            </div>
                            <div>
                                <a style="color:#00a6b3;" (click)="cancelGender()">cancel</a>
                            </div>
                        </div>
                        <form [formGroup]="genderForm" (ngSubmit)="updateGender(genderForm.value)">
                            <select class="form-select my-2" formControlName="gender"
                                aria-label="Default select example">
                                <option selected disabled>Choose Gender</option>
                                <option value="male">Male</option>
                                <option value="female">Female</option>
                            </select>
                            <small
                                *ngIf="genderForm.controls['gender']?.hasError('required') && genderForm.controls['gender']?.touched">Gender
                                is required</small>
                            <div class="my-3">
                                <button type="submit" class="btn" style="background-color:#00a6b3;color: white;"
                                    [disabled]="genderForm.invalid">Save</button>
                            </div>
                        </form>
                    </div>
                </div>
                <div class="row card p-3 my-2">
                    <div *ngIf="showDOB">
                        <div class="d-flex justify-content-between">
                            <div>
                                <span style="font-size:18px; font-weight: 400;">Date of Birth</span>
                            </div>
                            <div>
                                <a style="color:#00a6b3;" (click)="editDOB()">Edit</a>
                            </div>
                        </div>
                        <div class="my-2">
                            <span
                                style="font-size:15px; font-weight: 300;">{{allData.data.attributes.profile.publicData.age | date:'MMM d, y'}}</span>
                        </div>
                    </div>
                    <div *ngIf="!showDOB">
                        <div class="d-flex justify-content-between">
                            <div>
                                <span style="font-size:18px; font-weight: 400;">Date of Birth</span>
                            </div>
                            <div>
                                <a style="color:#00a6b3;" (click)="cancelDOB()">cancel</a>
                            </div>
                        </div>
                        <form [formGroup]="DOBForm" (ngSubmit)="updateDOB(DOBForm.value)">
                            <input type="text" placeholder="" class="form-control mt-2" formControlName="age"
                                bsDatepicker>
                            <small
                                *ngIf="DOBForm.controls['age']?.hasError('required') && DOBForm.controls['age']?.touched">DOB
                                is required</small>
                            <div class="my-3">
                                <button type="submit" class="btn" style="background-color:#00a6b3;color: white;"
                                    [disabled]="DOBForm.invalid">Save</button>
                            </div>
                        </form>
                    </div>
                </div>
                <div class="row card p-3 my-2">
                    <div *ngIf="showEmail">
                        <div class="d-flex justify-content-between">
                            <div>
                                <span style="font-size:18px; font-weight: 400;">Email Address</span>
                            </div>
                            <div class="d-flex justify-content-between">
                                <div>
                                    <a style="color:#00a6b3;">verify</a>
                                </div>
                                <div>
                                    <a style="color:#00a6b3;" class="ms-2" (click)="editEmail()">Edit</a>
                                </div>
                            </div>
                        </div>
                        <div class="my-2">
                            <span style="font-size:15px; font-weight: 300;">{{allData.data.attributes.email}}</span>
                        </div>
                    </div>
                    <div *ngIf="!showEmail">
                        <div class="d-flex justify-content-between">
                            <div>
                                <span style="font-size:18px; font-weight: 400;">Email Address</span>
                            </div>
                            <div class="d-flex justify-content-between">
                                <div>
                                    <a style="color:#00a6b3;">verify</a>
                                </div>
                                <div>
                                    <a class="ms-2" style="color:#00a6b3;" (click)="cancelEmail()">cancel</a>
                                </div>
                            </div>
                        </div>
                        <form [formGroup]="emailForm" (ngSubmit)="updateEmail(emailForm.value)">
                            <input type="email" placeholder="{{allData.data.attributes.email}}" formControlName="email"
                                class="form-control mt-2">
                            <small
                                *ngIf="emailForm.controls['email']?.hasError('required') && emailForm.controls['email']?.touched">Email
                                is required</small>
                            <small *ngIf="emailForm.controls['email']?.hasError('email')">Enter valid Email</small>
                            <div class="my-3">
                                <button type="submit" class="btn" style="background-color:#00a6b3;color: white;"
                                    [disabled]="emailForm.invalid">Save</button>
                            </div>
                        </form>
                    </div>
                </div>
                <div class="row card p-3 my-2">
                    <div *ngIf="showPhone">
                        <div class="d-flex justify-content-between">
                            <div>
                                <span style="font-size:18px; font-weight: 400;">Phone Number</span>
                            </div>
                            <div class="d-flex justify-content-between">
                                <div>
                                    <a style="color:#00a6b3;" class="ms-2" (click)="editPhone()">Edit</a>
                                </div>
                            </div>
                        </div>
                        <div class="my-2">
                            <span
                                style="font-size:15px; font-weight: 300;">{{allData.data.attributes.profile.protectedData.phoneNumber}}</span>
                        </div>
                    </div>
                    <div *ngIf="!showPhone">
                        <div>
                            <div>
                                <div class="d-flex justify-content-between">
                                    <div>
                                        <span style="font-size:18px; font-weight: 400;">Phone Number</span>
                                    </div>
                                    <div class="d-flex justify-content-between">
                                        <div>
                                            <a class="ms-2" style="color:#00a6b3;" (click)="cancelPhone()">cancel</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="my-2">
                                <p>For notifications, reminders, and help logging in</p>
                            </div>
                        </div>
                        <form [formGroup]="phoneForm" (ngSubmit)="updatePhone(phoneForm.value)">
                            <div class="input-group mt-2">
                                <select class=" dropdown-toggle dropdown " formControlName="country_code"
                                    data-bs-toggle="dropdown" aria-expanded="false">
                                    <option class="dropdown-item" value="+91" selected>+91</option>
                                    <option class="dropdown-item" value="+92">+92</option>
                                    <option class="dropdown-item" value="+93">+93</option>
                                </select>
                                <input type="text" class="form-control" formControlName="phoneNumber"
                                    placeholder="Enter Phone Number" aria-label="Text input with dropdown button">
                            </div>
                            <div>
                                <small *ngIf="phoneForm.controls['country_code']?.hasError('required') && phoneForm.controls['country_code']?.touched">Country code is required</small>
                            </div>
                            <small
                                *ngIf="phoneForm.controls['phoneNumber']?.hasError('required') && phoneForm.controls['phoneNumber']?.touched">Phone
                                Number is required</small>
                            <small *ngIf="phoneForm.controls['phoneNumber']?.hasError('pattern')">Enter valid mobile
                                number</small>
                            <small *ngIf="phoneForm.controls['phoneNumber']?.hasError('minLength')">Phone Number should
                                not be less than 10 number</small>
                            <div class="my-3">
                                <button type="submit" class="btn" style="background-color:#00a6b3;color: white;"
                                    [disabled]="phoneForm.invalid">Save</button>
                            </div>
                        </form>
                    </div>
                </div>
                <div class="row card p-3 my-2">
                    <div *ngIf="showAbout">
                        <div class="d-flex justify-content-between">
                            <div>
                                <span style="font-size:18px; font-weight: 400;">About</span>
                            </div>
                            <div class="d-flex justify-content-between">
                                <div>
                                    <a style="color:#00a6b3;" class="ms-2" (click)="editAbout()">Edit</a>
                                </div>
                            </div>
                        </div>
                        <div class="my-2">
                            <span style="font-size:15px; font-weight: 300;">{{allData.data.bio}}</span>
                        </div>
                    </div>
                    <div *ngIf="!showAbout">
                        <div>
                            <div>
                                <div>
                                    <div class="d-flex justify-content-between">
                                        <div class="my-2">
                                            About
                                        </div>
                                        <div>
                                            <a class="ms-2" style="color:#00a6b3;" (click)="cancelAbout()">cancel</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <form [formGroup]="aboutForm" (ngSubmit)="updateAbout(aboutForm.value)">
                            <textarea id="text-area" class="form-control " formArrayName="bio"></textarea>
                            <div class="my-3">
                                <button type="submit" class="btn"
                                    style="background-color:#00a6b3;color: white;">Save</button>
                            </div>
                        </form>
                    </div>
                </div>
                <div class="row card p-3 my-2">
                    <div *ngIf="showAddress">
                        <div class="d-flex justify-content-between">
                            <div>
                                <span style="font-size:18px; font-weight: 400;">Address</span>
                            </div>
                            <div class="d-flex justify-content-between">
                                <div>
                                    <a style="color:#00a6b3;" class="ms-2" (click)="editAddress()">Edit</a>
                                </div>
                            </div>
                        </div>
                        <div class="my-2">
                            <span style="font-size:15px; font-weight: 300;">Mohali</span>
                        </div>
                    </div>
                    <div *ngIf="!showAddress">
                        <div>
                            <div>
                                <div>
                                    <div class="d-flex justify-content-between">
                                        <div class="my-2">
                                            Address
                                        </div>
                                        <div>
                                            <a class="ms-2" style="color:#00a6b3;" (click)="cancelAddress()">cancel</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <form>
                            <select class=" dropdown-toggle dropdown form-control " formControlName="address"
                                data-bs-toggle="dropdown" aria-expanded="false">
                                <option class="dropdown-item" value="Mohali" selected>Mohali</option>
                                <option class="dropdown-item" value="Chandigarh">Chandigarh</option>
                                <option class="dropdown-item" value="Jalandhar">Jalandhar</option>
                            </select>
                            <div class="my-3">
                                <button type="submit" class="btn"
                                    style="background-color:#00a6b3;color: white;">Save</button>
                            </div>
                        </form>
                    </div>
                </div>
                <div class="row card p-3 my-2">
                    <div *ngIf="showLanguage">
                        <div class="d-flex justify-content-between">
                            <div>
                                <span style="font-size:18px; font-weight: 400;">Language</span>
                            </div>
                            <div class="d-flex justify-content-between">
                                <div>
                                    <a style="color:#00a6b3;" class="ms-2" (click)="editLanguage()">Edit</a>
                                </div>
                            </div>
                        </div>
                        <div class="my-2">
                            <span
                                style="font-size:15px; font-weight: 300;">{{allData.data.attributes.profile.publicData.language}}</span>
                        </div>
                    </div>
                    <div *ngIf="!showLanguage">
                        <div>
                            <div>
                                <div>
                                    <div class="d-flex justify-content-between">
                                        <div class="my-2">
                                            Language
                                        </div>
                                        <div>
                                            <a class="ms-2" style="color:#00a6b3;" (click)="cancelLanguage()">cancel</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <form [formGroup]="languageForm" (ngSubmit)="updateLanguage(languageForm.value)">
                            <select class="dropdown-toggle dropdown form-control " formControlName="language"
                                data-bs-toggle="dropdown" aria-expanded="false">
                                <option class="dropdown-item" value="English" selected>English</option>
                                <option class="dropdown-item" value="Hindi">Hindi</option>
                                <option class="dropdown-item" value="Thai">Thai</option>
                                <option class="dropdown-item" value="Spanish">Spanish</option>
                                <option class="dropdown-item" value="Italian">Italian</option>
                                <option class="dropdown-item" value="German">German</option>
                                <option class="dropdown-item" value="French">French</option>
                            </select>
                            <div>
                                <small *ngIf="languageForm.controls['language']?.hasError('required') && languageForm.controls['language']?.touched">Language is required</small>
                            </div>
                            <div class="my-3">
                                <button type="submit" class="btn"
                                    style="background-color:#00a6b3;color: white;" [disabled]="languageForm.invalid">Save</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<app-footer></app-footer>